<!DOCTYPE html>

<!-- 
EvilVibrate

An information security project proof of concept
-->

<html>
	<body>
		<!-- load mootools-core for the class to work -->
		<script type="text/javascript" src="http://mootools.net/download/get/mootools-core-1.4.5-full-nocompat.js">
		</script>

		<script type="text/javascript" src="EvilVibrate.js">
		</script>

		<script type="text/javascript">

			// handle useragent
			var ua = navigator.userAgent.toLowerCase(); 
			var isAndroid = ua.indexOf("android") > -1;
			var isIphone = ua.indexOf("iphone") > -1;
			var isWindows = ua.indexOf("iemobile") > -1;

			var vibrate;
			
			if(isAndroid) {
				window.scrollTo(0,0); // reset in case prev not scrolled  
//			    var nPageH = $(document).height();
//			    var nViewH = window.outerHeight;
//
//			    if (nViewH > nPageH) {
//			      nViewH -= 250;
//			      $('BODY').css('height',nViewH + 'px');
//			    }
//			    window.scrollTo(0,1);
//			  
				vibrate = new EvilVibrate("android4");
				vibrate.vibrate();
				document.write(vibrate.html());

			}
			else if(isIphone) {
				vibrate = new EvilVibrate("iphone");
				vibrate.vibrate();
				document.write(vibrate.html());
			}
			else if(isWindows) {
				vibrate = new EvilVibrate("winphone");
				vibrate.vibrate();
				document.write(vibrate.html());
			}
			else {
				vibrate = new EvilVibrate("android4");
				vibrate.vibrate();
				document.write(vibrate.html());
			}

		</script>

		<link rel=stylesheet href="style.css" type="text/css">
	</body>

</html>
